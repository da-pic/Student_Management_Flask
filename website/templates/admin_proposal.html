<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“Š Quáº£n lÃ½ Ä‘á» xuáº¥t Ä‘iá»ƒm</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">
</head>
<body class="bg-gradient-to-r from-blue-100 to-blue-50 min-h-screen p-8">

  <h1 class="text-3xl font-bold text-blue-700 mb-6 text-center">ğŸ“‹ Danh sÃ¡ch Ä‘á» xuáº¥t Ä‘iá»ƒm</h1>
  <div class="mb-4">
    <a href="{{ url_for('admin_views.admin') }}" 
        class="inline-block bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-lg">
        ğŸ”™ Quay láº¡i
    </a>
  </div>
  <div class="bg-white shadow-lg rounded-xl p-6">
    <table class="w-full border border-gray-300 text-center">
      <thead class="bg-gray-100">
        <tr>
          <th class="border px-4 py-2">MÃ£ Ä‘á» xuáº¥t</th>
          <th class="border px-4 py-2">MÃ£ SV</th>
          <th class="border px-4 py-2">Lá»›p há»c pháº§n</th>
          <th class="border px-4 py-2">Giáº£ng viÃªn</th>
          <th class="border px-4 py-2">ChuyÃªn cáº§n</th>
          <th class="border px-4 py-2">Giá»¯a ká»³</th>
          <th class="border px-4 py-2">Cuá»‘i ká»³</th>
          <th class="border px-4 py-2">Tráº¡ng thÃ¡i</th>
          <th class="border px-4 py-2">Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody>
        {% for p in proposals %}
        <tr class="hover:bg-gray-50">
          <td class="border px-3 py-2">{{ p.proposal_id }}</td>
          <td class="border px-3 py-2">{{ p.student_id }}</td>
          <td class="border px-3 py-2">{{ p.course_class_id }}</td>
          <td class="border px-3 py-2">{{ p.lecturer_id }}</td>
          <td class="border px-3 py-2">{{ p.proposed_attendance_scr }}</td>
          <td class="border px-3 py-2">{{ p.proposed_midterm_scr }}</td>
          <td class="border px-3 py-2">{{ p.proposed_finalterm_scr }}</td>
          <td class="border px-3 py-2 font-medium 
                     {% if p._status == 'Approved' %}text-green-600
                     {% elif p._status == 'Denied' %}text-red-600
                     {% else %}text-yellow-600{% endif %}">
            {{ p._status }}
          </td>
          <td class="border px-3 py-2">
            {% if p._status == 'Pending' %}
            <div class="flex justify-center gap-2">
              <form action="{{ url_for('admin_proposal.approve_proposal', proposal_id=p.proposal_id) }}" method="POST">
                <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg">
                  âœ”ï¸ Duyá»‡t
                </button>
              </form>
              <form action="{{ url_for('admin_proposal.deny_proposal', proposal_id=p.proposal_id) }}" method="POST">
                <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg">
                  âŒ Tá»« chá»‘i
                </button>   
              </form>
            </div>
            {% else %}
              <span class="text-gray-500 italic">ÄÃ£ xá»­ lÃ½</span>
            {% endif %}
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="9" class="text-gray-500 italic py-4">ChÆ°a cÃ³ Ä‘á» xuáº¥t nÃ o.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</body>
</html>
